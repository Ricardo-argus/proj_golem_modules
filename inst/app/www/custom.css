/* --- Main Dark Theme (Sidebar and General Background) --- */

/* --- Main content body background color (dark, except for Raw Data tab) --- */
.content-wrapper:not(.tab-pane#shiny-tab-raw_data),
.right-side:not(.tab-pane#shiny-tab-raw_data) {
  background-color: #343a40 !important;
}

/* --- Main text color (white, except in light tabs) --- */
body {
  color: #f8f9fa;
}

/* --- Style for alert boxes/modals --- */
.alert,
.modal-content,
.notification,
.shiny-notification {
  background-color: #454d55 !important;
  color: #f8f9fa !important;
  border: 1px solid #6c757d !important;
  box-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

/* Sidebar Color */
.main-sidebar {
  background-color: #212529 !important;
}
.sidebar-menu li a {
  color: #f8f9fa;
}
.sidebar-menu li.active > a,
.sidebar-menu li a:hover {
  background: #495057;
  color: #ffffff;
  border-left-color: #007bff;
}

/* --- Filters (Sidebar) --- */
.selectize-input {
  background-color: #555 !important;
  color: #fff !important;
  border-color: #6c757d;
}
.selectize-dropdown {
  background-color: #555;
  color: #fff;
}
.selectize-dropdown .active {
  background-color: #007bff;
  color: #fff;
}
.selectize-dropdown .option:hover {
  background-color: #495057;
}

/* --- 2. "OVERVIEW" TAB (CHARTS): Dark Mode --- */
.tab-pane#shiny-tab-overview .box {
  background: #454d55;
  border-top-color: #6c757d;
  color: #f8f9fa;
}
.tab-pane#shiny-tab-overview .box-header .box-title {
  color: #f8f9fa;
}
.tab-pane#shiny-tab-overview .box-header .btn-box-tool {
  color: #f8f9fa;
}

/* KPIs (ValueBoxes) */
.small-box {
  color: #ffffff !important;
}
.small-box.bg-purple {
  background-color: #6f42c1 !important;
}
.small-box.bg-blue {
  background-color: #0069d9 !important;
}
.small-box.bg-green {
  background-color: #218838 !important;
}

/* --- 3. "RAW DATA" TAB (TABLE): Light Mode --- */
.tab-pane#shiny-tab-raw_data {
  background-color: #ffffff !important;
  color: #333333 !important;
}
.tab-pane#shiny-tab-raw_data .box {
  background: #ffffff !important;
  color: #333333 !important;
  border-top-color: #3c8dbc;
  box-shadow: 0 1px 1px rgba(0,0,0,0.1);
}
.tab-pane#shiny-tab-raw_data label,
.tab-pane#shiny-tab-raw_data .dataTables_wrapper,
.tab-pane#shiny-tab-raw_data .dataTables_info,
.tab-pane#shiny-tab-raw_data .box-header .box-title {
  color: #333333 !important;
}
.tab-pane#shiny-tab-raw_data .box-header .btn-box-tool {
  color: #555 !important;
}
.tab-pane#shiny-tab-raw_data .dataTables_wrapper input,
.tab-pane#shiny-tab-raw_data .dataTables_wrapper select,
.tab-pane#shiny-tab-raw_data .dataTables_wrapper .form-control {
  color: #000000 !important;
  background-color: #ffffff !important;
  border: 1px solid #ccc !important;
}

/* UI Logic for text wrapping and paragraph justification */
tags$head(
  tags$style(HTML("
    .shiny-text-output, .shiny-input-container {
      word-wrap: break-word;
      white-space: normal;
    }
    p {
      text-align: justify;
    }
  "))
)
